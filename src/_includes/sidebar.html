<form action="{% link search.html %}" method="get" autocomplete="off">
  <div class="input-group mb-3">
    <input type="text" class="form-control" name="q" placeholder="Search the docs" aria-label="Search the docs">
    <div class="input-group-append">
      <input type="submit" value="Go" class="btn btn-secondary">
    </div>
  </div>
</form>

<hr>

{%- assign __paths = site.Array -%}
{%- assign __grouped_paths = site.documentation
  | group_by_exp: "item", 'item.path | remove: "_documentation/" | split: "/" | first'
-%}

{%- for __category in site.data.categories -%}
  {%- assign __group = __grouped_paths
    | where: "name", __category.slug
    | first
  -%}
  {%- assign __group_paths = __group.items | map: "path" -%}
  {%- assign __paths = __paths | concat: __group_paths -%}
{%- endfor -%}

{% include sidebar/tree.html
  root="_documentation/"
  paths=__paths
  documents=site.documentation
  categories=site.data.categories
  templates="category,default"
  is_category=true
%}

{%- if jekyll.environment == 'development' -%}
<hr class="mb-3 mb-md-4">

{% assign __paths = site.dev_components | map: "path" %}
{% include sidebar/tree.html
  root="_dev_components/"
  paths=__paths
  documents=site.dev_components
  categories=site.data.dev_categories
  templates="category,default"
  is_category=true
%}
{%- endif -%}
